@page
@model LoginModel

@{
  ViewData["Title"] = "Log in";
}

@if (TempData["mensagemErro"] != null) {
  <script type="text/javascript">
    window.onload = function () {
      toastr.error('Erro ao efetuar login, usuário ou senha incorreto!', 'Erro ao efetuar login.', {
        "closeButton": true,
        "debug": false,
        "newestOnTop": false,
        "progressBar": true,
        "positionClass": "md-toast-top-right",
        "preventDuplicates": false,
        "onclick": null,
        "showDuration": 300,
        "hideDuration": 500,
        "timeOut": 3000,
        "extendedTimeOut": 500,
        "showEasing": "swing",
        "hideEasing": "linear",
        "showMethod": "fadeIn",
        "hideMethod": "fadeOut"
      })
    };
  </script>
}

<div id="mdb-preloader" class="flex-center">
  <div class="preloader-wrapper active">
    <div class="spinner-layer spinner-red-only">
      <div class="circle-clipper left">
        <div class="circle"></div>
      </div>
      <div class="gap-patch">
        <div class="circle"></div>
      </div>
      <div class="circle-clipper right">
        <div class="circle"></div>
      </div>
    </div>
  </div>
</div>

<div style="height: 95vh">
  <div class="flex-center flex-column">

    <div class="p-4 bd-highlight">
      <div class="container bg-white rounded shadow-md animated fadeIn slow p-3" style=" width: 400px">


        <img src="~/img/toponew.png" class="responsive-img rounded mx-auto d-block" style="width: 150px">

        <form id="account" method="post">

          <div class="form-group ml-3 mr-3">
            <!-- Material input -->
            <div class="md-form">
              <input asp-for="Input.Email" class="form-control" onkeypress='validate(event)' required />
              <label for="form1">Usuario</label>
            </div>
          </div>

          <div class="form-group ml-3 mr-3">
            <!-- Material input -->
            <div class="md-form">
              <input asp-for="Input.Password" class="form-control" required />
              <label for="form1">Senha</label>
            </div>
          </div>

          <div class="form-group">
            <!-- Material unchecked -->
            <div class="form-check">
              <input type="checkbox" class="form-check-input" asp-for="Input.RememberMe" id="materialUnchecked">
              <label class="form-check-label" for="materialUnchecked">Lembrar conta?</label>
            </div>
          </div>

          <div class="form-group text-center">
            <div class="col-md-12">
              <button class="btn btn-success btn-redondo btn-sm btn-block" type="submit">Entrar</button>
            </div>
          </div>

        </form>
      </div>
    </div>
  </div>
</div>


@section Scripts {

  <script>
    $(window).on('load', function () {
      $('#mdb-preloader').delay(1000).fadeOut(300);
    });
  </script>

  <script>
    function validate(evt) {
      var theEvent = evt || window.event;
      // Handle paste
      if (theEvent.type === 'paste') {
        key = event.clipboardData.getData('text/plain');
      } else {
        // Handle key press
        var key = theEvent.keyCode || theEvent.which;
        key = String.fromCharCode(key);
      }
      var regex = /[0-9]|\./;
      if (!regex.test(key)) {
        theEvent.returnValue = false;
        if (theEvent.preventDefault) theEvent.preventDefault();
      }
    }
  </script>
}